<!DOCTYPE html>
<html lang="en">

<head th:replace="header :: headerFragment"></head>

<body style="background-color: #fff9ec;">

    <!--Nav Bar Start-->
    <nav th:replace="topnavbar :: topNavbarFragment"></nav>
    <!--Nav Bar End-->

    <div class="container-fluid">
        <!--Start title area-->
        <div class="row">
            <div class="col-12 text-center fw-bold title mt-3 p-3">
                <h1> Privilege Management</h1>
            </div>
        </div>

        <!--Tabs-->
        <div class="row mt-3">
            <div class="col-12 text-start">
                <!-- Button trigger modal -->
                <button type="button" class="btn btn-success" data-bs-toggle="modal" data-bs-target="#modalPrivilegeForm">
                    <i class="fa-solid fa-plus"></i>
                    Add New Privilege
                </button>
            </div>
        </div>

        <!--Start table area-->
        <div class="row mt-2">

            <div class="col-12">
                <div class="card">
                    <div class="card-body">
                        <table class="table table-hover table-striped" id="tablePrivilege">
                            <thead class="table-dark">
                                <tr>
                                <th>#</th>
                                <th>Role</th>
                                <th>Module</th>
                                <th>Select</th>
                                <th>Insert</th>
                                <th>Update</th>
                                <th>Delete</th>
                                <th>Modify</th>
                                </tr>
                            </thead>
                            <tbody id="tablePrivilegeBody">
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <!--End table area-->
    </div>

    <!--Form Modal-->

    <div class="modal" tabindex="-1" id="modalPrivilegeForm" data-bs-backdrop="static" data-bs-keyboard="false">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <img src="/images/image5.png" alt="cactus icon" style="width: 20px; height: 20px">
                    <h4 class="modal-title"> Edit Privilege</h4>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="card">
                        <div class="card-body form-area">

                            <!--action / method-->
                            <form id="formPrivilege" onsubmit="return false">
                                <!--Start required mark-->
                                <div class="row mt-2">
                                    <div class="col-12 fw-bold text-end">
                                        <p><span class="text-danger">(*) Fields are Mandatory</span></p>
                                    </div>
                                </div>
                                <!--End required mark-->

                                <!--Start Role-->
                            <div class="row mt-2">
                                <lable for="selectRole" class="col-2 form-label fw-bold mt-2">Role : <span
                                        class="text-danger">*</span></lable>
                                <div class="col-10">
                                    <select required
                                        onchange="this.style.border = '2px solid green'; privilege.role_id = JSON.parse(this.value);"
                                        id="selectRole" class="form-select" data-bs-toggle="tooltip"
                                        data-bs-placement="bottom" data-bs-title="Please select out this field"></select>
                                </div>
                            </div>
                            <!--End Role-->

                            <!--Start Module-->
                            <div class="row mt-2">
                                <lable for="selectModule" class="col-2 form-label fw-bold mt-2">Module : <span
                                        class="text-danger">*</span></lable>
                                <div class="col-10">
                                    <select required
                                        onchange="this.style.border = '2px solid green'; privilege.modules_id = JSON.parse(this.value)"
                                        id="selectModule" class="form-select" data-bs-toggle="tooltip"
                                        data-bs-placement="bottom" data-bs-title="Please select out this field"></select>
                                </div>
                            </div>
                            <!--End Module-->

                            <!-- Start Select option-->
                            <div class="row mt-2">
                                <lable for="selectModule" class="col-2 form-label fw-bold mt-2">Select : <span
                                        class="text-danger">*</span></lable>
                                <div class="col-10">
                                    <div class="form-check form-check-inline">
                                        <input type="checkbox" onchange="if (this.checked) {
                                            privilege.privilege_select= true;
                                            labelSelect.innerText ='Select privilege Granted';
                                        } else {
                                            privilege.privilege_select= false;
                                            labelSelect.innerText ='Select privilege Not Granted';
                                        }" id="chkBoxSelect" class="text form-check-input">
                                        <label for="chkBoxSelect" id="labelSelect" class="form-check-lable fw-bold">
                                            Select Privilege
                                            Granted</label>
                                    </div>
                                </div>
                            </div>
                            <!-- End Select option-->

                            <!-- Start Insert option-->
                            <div class="row mt-2">
                                <lable for="selectModule" class="col-2 form-label fw-bold mt-2">Insert : <span
                                        class="text-danger">*</span></lable>
                                <div class="col-10">
                                    <div class="form-check form-check-inline">
                                        <input type="checkbox" onchange="if (this.checked) {
                                            privilege.privilege_insert= true;
                                            labelInsert.innerText ='Insert privilege Granted';
                                        } else {
                                            privilege.privilege_insert= false;
                                            labelInsert.innerText ='Insert privilege Not Granted';
                                        }" id="chkBoxInsert" class="text form-check-input">
                                        <label for="chkBoxInsert" id="labelInsert" class="form-check-lable fw-bold">
                                            Insert Privilege
                                            Granted</label>
                                    </div>
                                </div>
                            </div>
                            <!-- End Insert option-->

                            <!-- Start Update option-->
                            <div class="row mt-2">
                                <lable for="selectModule" class="col-2 form-label fw-bold mt-2">Update : <span
                                        class="text-danger">*</span></lable>
                                <div class="col-10">
                                    <div class="form-check form-check-inline">
                                        <input type="checkbox" onchange="if (this.checked) {
                                            privilege.privilege_update= true;
                                            labelUpdate.innerText ='Update privilege Granted';
                                        } else {
                                            privilege.privilege_update= false;
                                            labelUpdate.innerText ='Update privilege  Not Granted';
                                        }" id="chkBoxUpdate" class="text form-check-input">
                                        <label for="chkBoxUpdate" id="labelUpdate" class="form-check-lable fw-bold">
                                            Update Privilege
                                            Granted</label>
                                    </div>
                                </div>
                            </div>
                            <!-- End Update option-->

                            <!-- Start Delete option-->
                            <div class="row mt-2">
                                <lable for="selectModule" class="col-2 form-label fw-bold mt-2">Delete : <span
                                        class="text-danger">*</span></lable>
                                <div class="col-10">
                                    <div class="form-check form-check-inline">
                                        <input type="checkbox" onchange="if (this.checked) {
                                            privilege.privilege_delete= true;
                                            labelDelete.innerText ='Delete privilege  Granted';
                                        } else {
                                            privilege.privilege_delete= false;
                                            labelDelete.innerText ='Delete privilege Not Granted';
                                        }" id="chkBoxDelete" class="text form-check-input">
                                        <label for="chkBoxDelete" id="labelDelete" class="form-check-lable fw-bold">
                                            Delete Privilege
                                            Granted</label>
                                    </div>
                                </div>
                            </div>
                            <!-- End Delete option-->

                                <!--Start buttons-->
                                <div class="row mt-2">
                                    <div class="col-3 text-start">
                                        <button type="button" class="btn btn-secondary"
                                        onclick="buttonPrivilegeReset()"> <i class="fa-solid fa-recycle fa-xs"></i> Reset</button>
                                    </div>
                                    
                                    <div class="col-9 text-end">
                                        <button id="buttonUpdate" type="submit" class="btn btn-warning me-2"
                                            onclick="buttonPrivilegeUpdate()"> <i class="fa-solid fa-rotate fa-xs"></i>
                                            Update</button>

                                        <button id="buttonSubmit" type="submit" class="btn btn-success"
                                            onclick="buttonPrivilegeSubmit()"><i class="fa-solid fa-check fa-xs"></i>
                                            Submit</button>
                                    </div>
                                </div>
                                <!--End buttons-->
                            </form>

                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <!--print / view model-->
    <div class="modal" tabindex="-1" id="modalPrivilegeView" data-bs-backdrop="static" data-bs-keyboard="false">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">View Privilege</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="tablePrivilegeView">
                    <h2 class="text-center">SEWLEE CACTUS PLANTS</h2>
                    <p class="text-center">46, Makumbura, Pannipitiya.  +94 714122097</p>
                    <p class="text-start" id="currentDateTime"></p>
                    <h5 class="text-start">Privilege Details</h5>
                    <hr>
                    <div class="card">
                        <div class="card-body form-area">
                            <table class="table table-hover table-striped">
                                <thead class="table-dark"></thead>
                                <tr>
                                    <th>Role</th>
                                    <td id="tdRolename"></td>
                                </tr>
                                <tr>
                                    <th>Module</th>
                                    <td id="tdModulename"></td>
                                </tr>
                                <tr>
                                    <th>Select</th>
                                    <td id="tdSelectprivilege"></td>
                                </tr>
                                <tr>
                                    <th>Insert</th>
                                    <td id="tdInserttprivilege"></td>
                                </tr>
                                <tr>
                                    <th>Update</th>
                                    <td id="tdUpdateprivilege"></td>
                                </tr>
                                <tr>
                                    <th>Delete</th>
                                    <td id="tdDeleteprivilege"></td>
                                </tr>
                            </table>

                        </div>
                    </div>
                </div>

                <div class="modal-footer">
                    <button class="btn btn-info" onclick="buttonPrivilegePrint()"><i class="fa-solid fa-print fa-xs"></i>
                        Print</button>
                </div>
            </div>
        </div>
    </div>


    <!--link commonFunction js-->
    <script src="/script/commonFunction.js"></script>

    <!--link tableFunction js-->
    <script src="/script/tableFunction.js"></script>

    <!--link validationFunction js-->
    <script src="/script/validationFunction.js"></script>

    <!--link privilege js-->
    <script src="/uicontroller/privilege.js"></script>

</body>

</html>